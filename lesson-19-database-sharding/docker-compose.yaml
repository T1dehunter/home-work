version: "3.8"


services:
  postgres-base:
    build:
      context: postgresql-base
    container_name: postgres-base
    restart: always
    environment:
      POSTGRES_PASSWORD: example
    ports:
      - '5432:5432'


  postgres-shard-1:
    build:
      context: postgresql-shard-1
    container_name: postgresql-shard-1
    restart: always
    environment:
      POSTGRES_PASSWORD: example
    ports:
      - '5433:5432'


  postgres-shard-2:
    build:
      context: postgresql-shard-2
    container_name: postgresql-shard-2
    restart: always
    environment:
      POSTGRES_PASSWORD: example
    ports:
      - '5434:5432'
